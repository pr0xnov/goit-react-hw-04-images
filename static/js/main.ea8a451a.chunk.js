(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,r){e.exports={galleryItem:"ImageGalleryItem_galleryItem__3ahi_",galleryImage:"ImageGalleryItem_galleryImage__34hE_"}},16:function(e,t,r){e.exports={overlay:"Modal_overlay__ZwuCl",modal:"Modal_modal__1BRpO"}},17:function(e,t,r){e.exports={container:"Notification_container__e_hZV",message:"Notification_message__g7153"}},18:function(e,t,r){e.exports={container:"Logo_container__3tCEn",link:"Logo_link__3tv5R"}},28:function(e,t,r){e.exports={gallery:"ImageGallery_gallery__3Q_Zj"}},30:function(e,t,r){e.exports={loader:"Loader_loader__qV6mU"}},31:function(e,t,r){e.exports={button:"Button_button__1IsM-"}},32:function(e,t,r){e.exports={App:"App_App__17fc3"}},7:function(e,t,r){e.exports={searchbar:"Searchbar_searchbar__l5n99",searchForm:"Searchbar_searchForm__2wjbs",searchFormButton:"Searchbar_searchFormButton__15dKt",searchFormInput:"Searchbar_searchFormInput__Q-QOE"}},79:function(e,t,r){},80:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(10),o=r.n(c),s=r(5),i=r.n(s),l=r(19),u=r(12),h=r(4),m=r(33),f=r(7),b=r.n(f),d=r(1);function j(e){var t=e.onSubmit,r=Object(a.useState)(""),n=Object(h.a)(r,2),c=n[0],o=n[1];return Object(d.jsx)("header",{className:b.a.searchbar,children:Object(d.jsxs)("form",{className:b.a.searchForm,onSubmit:function(e){if(e.preventDefault(),!c.trim())return o("");t(c.trim().toLowerCase()),o("")},children:[Object(d.jsx)("button",{type:"submit",className:b.a.searchFormButton,"aria-label":"Search images",children:Object(d.jsx)(m.a,{style:{width:22,height:22}})}),Object(d.jsx)("input",{className:b.a.searchFormInput,type:"text",name:"searchQuery",value:c,autoComplete:"off",autoFocus:!0,placeholder:"Search images",onChange:function(e){return o(e.target.value)}})]})})}var p=r(15),g=r.n(p),v=function(e){var t=e.webformatURL,r=e.tags,a=e.onClick;return Object(d.jsx)("li",{className:g.a.galleryItem,onClick:a,children:Object(d.jsx)("img",{className:g.a.galleryImage,src:t,alt:r})})},O=r(16),x=r.n(O),_=document.querySelector("#modal-root");function y(e){var t=e.closeModal,r=e.setNextImage,n=e.setPrevImage,o=e.children;Object(a.useEffect)((function(){var e=function(e){var a=e.code;"Escape"===a&&t(),"ArrowRight"===a&&r(),"ArrowLeft"===a&&n()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[t,r,n]);return Object(c.createPortal)(Object(d.jsx)("div",{className:x.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:x.a.modal,children:o})}),_)}var w=r(28),N=r.n(w);function k(e){var t=e.images,r=Object(a.useState)(NaN),n=Object(h.a)(r,2),c=n[0],o=n[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{className:N.a.gallery,children:t.map((function(e,t){var r=e.id,a=e.webformatURL,n=e.tags;return Object(d.jsx)(v,{webformatURL:a,tags:n,onClick:function(){return o(t)}},r)}))}),!isNaN(c)&&Object(d.jsx)(y,{closeModal:function(){o(NaN)},setNextImage:function(){o((function(e){return e+1<t.length?e+1:0}))},setPrevImage:function(){o((function(e){return e-1>=0?e-1:t.length-1}))},children:Object(d.jsx)("img",{src:t[c].largeImageURL,alt:t[c].tags})})]})}var I=r(29),S=r.n(I),E=r(30),z=r.n(E),C=function(){return Object(d.jsx)("div",{className:z.a.loader,children:Object(d.jsx)(S.a,{type:"ThreeDots",color:"#3d8679",height:110,width:110,timeout:3e3})})},M=r(31),L=r.n(M),F=function(e){var t=e.onClick;return Object(d.jsx)("button",{className:L.a.button,type:"button",onClick:t,children:"Load more"})},R=r(17),B=r.n(R),V=function(e){var t=e.message,r=e.onClick;return Object(d.jsx)("div",{className:B.a.container,onClick:r,children:Object(d.jsx)("p",{className:B.a.message,children:t})})},A=r(18),P=r.n(A),U=function(e){var t=e.url,r=e.name,a=e.children;return Object(d.jsx)("div",{className:P.a.container,children:Object(d.jsx)("a",{className:P.a.link,href:t,target:"_blank",rel:"nofollow noreferrer","aria-label":r,children:a})})},q=r(13),Q=r.n(q);Q.a.defaults.baseURL="https://pixabay.com/api",Q.a.defaults.params={key:"22909528-f64cd92665831d6faf8601377",image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:12};var T,Z=function(){var e=Object(u.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q()("",{params:{q:t,page:r}});case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),G=["title","titleId"];function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D.apply(this,arguments)}function H(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J(e,t){var r=e.title,n=e.titleId,c=H(e,G);return a.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 123.87",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,T||(T=a.createElement("g",{fill:"#333"},a.createElement("path",{d:"M679.67 407.38c-3.478-2.461-6.005-4.956-6.005-8.034h-19.338c0 5.54-2.527 8.034-5.645 8.034h-5.164v56.236h100.42V407.38h-64.63zm-6.006 16.067h-18.096v-8.034h20.084v6.465zm33.991 31.276c-11.457 0-20.779-9.202-20.779-20.513s9.322-20.04 20.78-20.04c11.456 0 20.777 8.728 20.777 20.04 0 11.311-9.32 20.513-20.778 20.513zm11.17-20.513c0 6.08-5.01 11.028-11.169 11.028-6.159 0-11.17-4.948-11.17-11.028 0-6.081 5.011-11.027 11.17-11.027s11.17 4.947 11.17 11.027zm77.334-34.48-25 63.735-19.185-7.693V444.91l13.323 5.452 17.592-44.844-65.92-25.205-6.11 19.034h-11l11.248-32.135 85.054 32.519z",transform:"translate(-156.157 -367.215)"}),a.createElement("g",{fontFamily:"VomZom",fontSize:23.686,wordSpacing:0,letterSpacing:0},a.createElement("path",{d:"M164.38 467.99c4.011-.092 7.776 3.17 8.2 7.17.506 3.515-1.562 7.166-4.803 8.593-1.963.974-4.18.675-6.292.725h-2.063v6.609h-3.267c.007-5.1-.013-10.2.01-15.3.107-3.799 3.218-7.202 6.974-7.707.41-.061.827-.091 1.241-.09zm0 13.219c2.357.06 4.568-1.78 4.92-4.115.47-2.35-1.03-4.877-3.322-5.582-2.214-.785-4.878.249-5.959 2.34-.839 1.428-.541 3.117-.597 4.69v2.667h4.958zM174.16 467.91h3.23v16.488h-3.23V467.91zM187.1 478.32h.118l4.592 6.123h4.004l-6.241-8.478 5.534-8.008h-4.003l-3.886 5.653h-.118l-3.886-5.653h-4.004l5.535 8.008-6.241 8.478h4.004z",transform:"matrix(4.12904 0 0 4.12904 -644.78 -1903.844)"}),a.createElement("path",{d:"M203.13 467.91c3.272-.065 6.411 2.08 7.622 5.106.632 1.405.624 2.963.603 4.472v6.91c-2.916-.01-5.833.02-8.748-.016-3.353-.164-6.418-2.608-7.378-5.815-.88-2.79-.149-6.028 1.922-8.11 1.547-1.6 3.745-2.568 5.979-2.547zm4.958 13.22c-.014-1.833.029-3.668-.024-5.5-.194-2.457-2.469-4.514-4.934-4.451-2.344-.057-4.553 1.761-4.92 4.082-.43 2.226.849 4.653 2.974 5.484 1.309.57 2.754.335 4.138.385h2.766zM221.19 467.99c3.87-.095 7.486 2.95 8.102 6.76.7 3.613-1.341 7.516-4.705 9.003-3.287 1.551-7.514.551-9.774-2.292-1.401-1.65-2.005-3.844-1.885-5.984V461.38h3.267v6.61h4.995zm0 13.219c2.482.066 4.75-2.017 4.933-4.487.31-2.454-1.508-4.922-3.937-5.368-1.344-.184-2.708-.06-4.06-.096h-1.93c.02 1.863-.045 3.729.037 5.589.26 2.46 2.485 4.41 4.957 4.362zM238.9 467.91c3.272-.065 6.411 2.08 7.622 5.106.632 1.405.624 2.963.603 4.472v6.91c-2.916-.01-5.833.02-8.748-.016-3.353-.164-6.418-2.608-7.378-5.815-.88-2.79-.149-6.028 1.922-8.11 1.547-1.6 3.746-2.568 5.979-2.547zm4.958 13.22c-.014-1.833.029-3.668-.024-5.5-.194-2.457-2.469-4.514-4.934-4.451-2.344-.057-4.553 1.761-4.92 4.082-.43 2.226.849 4.653 2.974 5.484 1.309.57 2.754.335 4.138.385h2.766zM265.11 467.95c-.007 5.088.013 10.176-.01 15.263-.119 4.004-3.56 7.603-7.577 7.812-.763.04-1.528.016-2.291.022v-3.267c1.394-.007 2.886.134 4.12-.655 1.543-.866 2.524-2.61 2.489-4.376-2.897 2.336-7.387 2.215-10.204-.196-2.052-1.657-3.174-4.322-3.015-6.945v-7.658h3.267c.015 2.911-.03 5.824.024 8.733.178 2.396 2.314 4.424 4.715 4.481 2.434.187 4.776-1.702 5.139-4.11.146-1.44.042-2.894.073-4.34v-4.764h3.27z",transform:"matrix(4.12904 0 0 4.12904 -644.78 -1903.844)"})))))}var K=a.forwardRef(J),W=(r.p,r(32)),Y=r.n(W),X="idle",$="pending",ee="resolved",te="rejected";var re=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(1),o=Object(h.a)(c,2),s=o[0],m=o[1],f=Object(a.useState)([]),b=Object(h.a)(f,2),p=b[0],g=b[1],v=Object(a.useState)(""),O=Object(h.a)(v,2),x=O[0],_=O[1],y=Object(a.useState)(X),w=Object(h.a)(y,2),N=w[0],I=w[1],S=function(e,t){if(!e)throw new Error("Sorry, there are no images matching your search query.");if(!t.length)throw new Error("We're sorry, but you've reached the end of the search result.")},E=function(){window.scrollTo({top:window.innerHeight+window.scrollY-150,behavior:"smooth"})};return Object(a.useEffect)((function(){function e(){return e=Object(u.a)(i.a.mark((function e(){var t,a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I($),e.prev=1,e.next=4,Z(r,s);case 4:t=e.sent,a=t.totalHits,n=t.hits,S(a,n),g((function(e){return[].concat(Object(l.a)(e),Object(l.a)(n))})),I(ee),1!==s&&E(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),c=e.t0.message,_(c),I(te);case 18:case"end":return e.stop()}}),e,null,[[1,13]])}))),e.apply(this,arguments)}r&&function(){e.apply(this,arguments)}()}),[r,s]),Object(d.jsxs)("div",{className:Y.a.App,children:[Object(d.jsx)(j,{onSubmit:function(e){e!==r?(n(e),m(1),g([])):window.scrollTo({top:0,behavior:"smooth"})}}),p.length?Object(d.jsx)(k,{images:p}):Object(d.jsx)(U,{name:"pixabay",url:"https://pixabay.com/",children:Object(d.jsx)(K,{"max-width":"300"})}),N===$&&Object(d.jsx)(C,{}),N===ee&&Object(d.jsx)(F,{onClick:function(){return m((function(e){return e+1}))}}),N===te&&Object(d.jsx)(V,{message:x,onClick:function(){return I(X)}})]})};r(78),r(79);o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(re,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.ea8a451a.chunk.js.map